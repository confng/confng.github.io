<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ConfNG Documentation</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <header class="site-header">
        <div class="container">
            <h1>ConfNG Documentation</h1>
            <nav>
                <a href="#welcome">Welcome</a>
                <a href="#download">Download</a>
                <a href="#documentation">Documentation</a>
                <a href="#examples">Examples</a>
                <a href="https://github.com/confng/confng" target="_blank">GitHub</a>
            </nav>
        </div>
    </header>
    <main>
        <div class="container">
            <aside class="sidebar">
                <h3>Table Of Contents</h3>
                <nav class="toc">
                    <ol>
                        <li><a href="#welcome">1. Welcome to ConfNG</a>
                            <ol>
                                <li><a href="#requirements">1.1. Requirements</a></li>
                                <li><a href="#mailing-lists">1.2. Mailing-lists</a></li>
                                <li><a href="#locations">1.3. Locations of the projects</a></li>
                                <li><a href="#bug-reports">1.4. Bug reports</a></li>
                                <li><a href="#license">1.5. License</a></li>
                            </ol>
                        </li>
                        <li><a href="#download">2. Download</a>
                            <ol>
                                <li><a href="#maven">2.1. Maven</a></li>
                                <li><a href="#gradle">2.2. Gradle</a></li>
                                <li><a href="#gradle-plugin">2.3. Gradle Plugin</a></li>
                                <li><a href="#source">2.4. Build from source</a></li>
                                <li><a href="#whats-new">2.6. What's New</a></li>
                            </ol>
                        </li>
                        <li><a href="#documentation">3. ConfNG Documentation</a>
                            <ol>
                                <li><a href="#introduction">3.1. Introduction</a></li>
                                <li><a href="#quick-start">3.2. Quick Start</a></li>
                                <li><a href="#configuration-keys">3.3. Configuration Keys</a></li>
                                <li><a href="#configuration-sources">3.4. Configuration Sources</a></li>
                                <li><a href="#testng-integration">3.5. TestNG Integration</a></li>
                                <li><a href="#gradle-plugin-docs">3.6. Gradle Plugin</a></li>
                                <li><a href="#typed-getters">3.7. Typed Getters</a></li>
                                <li><a href="#optional-required">3.8. Optional/Required</a></li>
                                <li><a href="#validation">3.9. Validation</a></li>
                                <li><a href="#source-diagnostics">3.10. Source Diagnostics</a></li>
                                <li><a href="#prefix-retrieval">3.11. Prefix Retrieval</a></li>
                                <li><a href="#encryption">3.12. Encryption/Decryption</a></li>
                                <li><a href="#config-reloading">3.13. Configuration Reloading</a></li>
                                <li><a href="#metrics-logging">3.14. Metrics & Logging</a></li>
                                <li><a href="#remote-sources">3.15. Remote Sources</a></li>
                                <li><a href="#code-generators">3.16. Code Generators</a></li>
                                <li><a href="#junit5-extension">3.17. JUnit 5 Extension</a></li>
                                <li><a href="#spring-integration">3.18. Spring Integration</a></li>
                                <li><a href="#micronaut-integration">3.19. Micronaut Integration</a></li>
                            </ol>
                        </li>
                        <li><a href="#examples">4. Examples</a></li>
                        <li><a href="#javadocs">5. API Documentation</a></li>
                        <li><a href="#github">6. GitHub Repository</a></li>
                    </ol>
                </nav>
            </aside>
            <article class="content">
                <section id="welcome">
                    <h1>1. Welcome to ConfNG</h1>
                    <p><strong>ConfNG</strong> is a configuration management library designed specifically for Java applications with first-class TestNG integration. It provides a flexible, type-safe way to manage configuration across multiple sources with automatic precedence handling.</p>

                    <p>Key features include:</p>
                    <ul>
                        <li><strong>Zero-configuration TestNG integration</strong> - TestNG parameters automatically injected via service loader</li>
                        <li><strong>JUnit 5 Extension</strong> - Full JUnit 5 support with <code>@ConfigValue</code> parameter injection</li>
                        <li><strong>Type-safe configuration</strong> - Enum-based keys with compile-time checking</li>
                        <li><strong>Multiple configuration sources</strong> - Environment variables, system properties, files (Properties, JSON, YAML, TOML), secret managers, and custom sources</li>
                        <li><strong>Remote sources</strong> - HTTP endpoints, HashiCorp Consul, and Spring Cloud Config Server</li>
                        <li><strong>Encryption/Decryption</strong> - AES-256-GCM encryption for sensitive values with <code>@Encrypted</code> annotation</li>
                        <li><strong>Hot-reload</strong> - Configuration reloading without restart with file watching and change listeners</li>
                        <li><strong>Metrics & Logging</strong> - Track lookups, cache hits, and performance with structured logging</li>
                        <li><strong>Code generators</strong> - Generate config enums from properties/YAML/JSON files</li>
                        <li><strong>Framework integrations</strong> - Spring and Micronaut PropertySource support</li>
                        <li><strong>Smart precedence</strong> - Configurable source priority with sensible defaults</li>
                        <li><strong>Secret management</strong> - Built-in support for AWS, Azure, and HashiCorp Vault</li>
                        <li><strong>Thread-safe</strong> - Safe for concurrent access</li>
                        <li><strong>Lightweight</strong> - Minimal dependencies</li>
                    </ul>

                    <p>Here is a very simple example:</p>

                    <pre><code class="language-java">package com.example;

import org.confng.ConfNG;
import org.confng.ConfNGKey;
import org.testng.annotations.*;

public enum AppConfig implements ConfNGKey {
    BASE_URL("base.url", "http://localhost:8080"),
    TIMEOUT("timeout", "30"),
    BROWSER("browser", "chrome");

    private final String key;
    private final String defaultValue;

    AppConfig(String key, String defaultValue) {
        this.key = key;
        this.defaultValue = defaultValue;
    }

    @Override
    public String getKey() { return key; }

    @Override
    public String getDefaultValue() { return defaultValue; }
}

public class SimpleTest {

    @BeforeClass
    public void setUp() {
        // TestNG parameters automatically available!
        // No configuration needed
    }

    @Test
    public void testApplication() {
        String url = ConfNG.get(AppConfig.BASE_URL);
        Integer timeout = ConfNG.getInt(AppConfig.TIMEOUT);
        String browser = ConfNG.get(AppConfig.BROWSER);

        System.out.println("Testing " + url + " with " + browser);
    }
}</code></pre>

                    <p>The enum <code>AppConfig</code> defines your configuration keys with default values. TestNG parameters are automatically injected when tests run - no setup required!</p>

                    <h3 id="requirements">1.1. Requirements</h3>
                    <p>ConfNG requires Java 11 or higher.</p>

                    <h3 id="mailing-lists">1.2. Mailing-lists</h3>
                    <p>For questions, support, or discussions, please contact us at <a href="mailto:team@confng.org">team@confng.org</a>.</p>

                    <h3 id="locations">1.3. Locations of the projects</h3>
                    <ul>
                        <li><strong>Main Repository:</strong> <a href="https://github.com/confng/confng">https://github.com/confng/confng</a></li>
                        <li><strong>Playground Examples:</strong> <a href="https://github.com/confng/confng-playground">https://github.com/confng/confng-playground</a></li>
                        <li><strong>Documentation:</strong> <a href="https://confng.github.io">https://confng.github.io</a></li>
                    </ul>

                    <h3 id="bug-reports">1.4. Bug reports</h3>
                    <p>Bug reports and feature requests can be submitted on the <a href="https://github.com/confng/confng/issues">GitHub Issues page</a>.</p>

                    <h3 id="license">1.5. License</h3>
                    <p>ConfNG is released under the Apache License 2.0.</p>
                </section>

                <section id="download">
                    <h1>2. Download</h1>
                    <p>ConfNG is available through Maven Central. Add it to your project using Maven or Gradle:</p>

                    <h3 id="maven">2.1. Maven</h3>
                    <pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.confng&lt;/groupId&gt;
    &lt;artifactId&gt;confng&lt;/artifactId&gt;
    &lt;version&gt;1.1.1&lt;/version&gt;
&lt;/dependency&gt;</code></pre>

                    <h3 id="gradle">2.2. Gradle</h3>
                    <pre><code class="language-groovy">dependencies {
    implementation 'org.confng:confng:1.1.1'
}</code></pre>

                    <h3 id="gradle-plugin">2.3. Gradle Plugin (Recommended)</h3>
                    <p>For seamless system property forwarding, add the ConfNG Gradle plugin:</p>
                    <pre><code class="language-groovy">plugins {
    id 'org.confng' version '1.1.1'
}</code></pre>
                    <p>This automatically forwards all <code>-D</code> flags to the test JVM:</p>
                    <pre><code class="language-bash">./gradlew test -Dbrowser=firefox -Ddatabase.url=jdbc:mysql://localhost/test</code></pre>
                    <p>No additional configuration needed - properties are automatically available via <code>ConfNG.get()</code>.</p>

                    <h4>Plugin Configuration (Optional)</h4>
                    <pre><code class="language-groovy">confng {
    // Disable automatic forwarding (default: true)
    forwardSystemProperties = false

    // Only forward properties matching these patterns
    includePatterns = ['app.', 'database.', 'browser']

    // Exclude properties matching these patterns
    excludePatterns = ['secret.', 'password']
}</code></pre>

                    <h3 id="source">2.4. Build from source</h3>
                    <p>To build ConfNG from source:</p>
                    <pre><code class="language-bash">git clone https://github.com/confng/confng.git
cd confng
./gradlew build</code></pre>
                </section>

                <section id="whats-new">
                    <h1>2.6. What's New in 1.1.1</h1>
                    <p>Version 1.1.1 introduces the <strong>ConfNG Gradle Plugin</strong> and powerful features for configuration management:</p>

                    <div class="new-features-grid">
                        <div class="new-feature-card">
                            <h4>üîå Gradle Plugin</h4>
                            <p>New <code>org.confng</code> Gradle plugin automatically forwards system properties to test JVM. No more manual <code>systemProperty</code> configuration needed!</p>
                        </div>
                        <div class="new-feature-card">
                            <h4>üîê Encryption/Decryption</h4>
                            <p>Built-in AES-256-GCM encryption for sensitive configuration values with <code>@Encrypted</code> annotation and pluggable encryption providers.</p>
                        </div>
                        <div class="new-feature-card">
                            <h4>üîÑ Configuration Reloading</h4>
                            <p>Hot-reload configuration without restart using <code>ConfigReloadManager</code> with file watching, change listeners, and debouncing.</p>
                        </div>
                        <div class="new-feature-card">
                            <h4>üìä Metrics & Logging</h4>
                            <p>Track configuration lookups, cache hits, and performance with <code>ConfigMetrics</code>. Structured logging with <code>ConfigLogger</code> and sensitive value masking.</p>
                        </div>
                        <div class="new-feature-card">
                            <h4>üåê Remote Sources</h4>
                            <p>Fetch configuration from HTTP endpoints, HashiCorp Consul, and Spring Cloud Config Server with retry logic and caching.</p>
                        </div>
                        <div class="new-feature-card">
                            <h4>‚öôÔ∏è Code Generators</h4>
                            <p>Generate configuration enums from properties/YAML/JSON files and create environment-specific templates with <code>ConfigKeyGenerator</code> and <code>TemplateGenerator</code>.</p>
                        </div>
                        <div class="new-feature-card">
                            <h4>üß™ JUnit 5 Extension</h4>
                            <p>New <code>@ExtendWith(ConfNGExtension.class)</code> for JUnit 5 integration with <code>@ConfigValue</code> parameter injection.</p>
                        </div>
                        <div class="new-feature-card">
                            <h4>üçÉ Spring Integration</h4>
                            <p>Use ConfNG as a Spring <code>PropertySource</code> with <code>ConfNGPropertySource</code> for seamless Spring Boot integration.</p>
                        </div>
                        <div class="new-feature-card">
                            <h4>üöÄ Micronaut Integration</h4>
                            <p>Native Micronaut support with <code>ConfNGPropertySourceLoader</code> for automatic property source loading.</p>
                        </div>
                        <div class="new-feature-card">
                            <h4>üìä Typed Configuration Getters</h4>
                            <p>New <code>getLong()</code>, <code>getDouble()</code>, <code>getList()</code>, and <code>getDuration()</code> methods for type-safe configuration access.</p>
                        </div>
                        <div class="new-feature-card">
                            <h4>‚úÖ Optional/Required Values</h4>
                            <p>New <code>getOptional()</code>, <code>getRequired()</code>, and <code>getOrDefault()</code> methods for explicit null handling.</p>
                        </div>
                        <div class="new-feature-card">
                            <h4>üîç Validation Framework</h4>
                            <p>Annotation-based validation with <code>@Required</code>, <code>@NotEmpty</code>, <code>@Pattern</code>, and <code>@Range</code>.</p>
                        </div>
                    </div>
                </section>

                <section id="documentation">
                    <h1>3. ConfNG Documentation</h1>

                    <h3 id="introduction">3.1. Introduction</h3>
                    <p>ConfNG simplifies configuration management in Java applications, especially for TestNG-based test automation. It eliminates boilerplate code and provides a unified API for accessing configuration from multiple sources.</p>

                    <h3 id="quick-start">3.2. Quick Start</h3>
                    <p>Getting started with ConfNG is simple:</p>
                    <ol>
                        <li>Add the dependency to your project</li>
                        <li>Create an enum implementing <code>ConfNGKey</code></li>
                        <li>Use <code>ConfNG.get()</code> to access configuration values</li>
                        <li>Run your tests - TestNG parameters are automatically available!</li>
                    </ol>

                    <h3 id="configuration-keys">3.3. Configuration Keys</h3>
                    <p>Configuration keys in ConfNG are defined using enums that implement the <code>ConfNGKey</code> interface. This provides type-safety and compile-time checking.</p>

                    <pre><code class="language-java">public enum MyConfig implements ConfNGKey {
    API_URL("api.url", "https://api.example.com"),
    TIMEOUT("timeout", "30"),
    RETRY_COUNT("retry.count", "3");

    private final String key;
    private final String defaultValue;

    MyConfig(String key, String defaultValue) {
        this.key = key;
        this.defaultValue = defaultValue;
    }

    @Override
    public String getKey() { return key; }

    @Override
    public String getDefaultValue() { return defaultValue; }
}</code></pre>

                    <p>Access configuration values using the <code>ConfNG</code> class:</p>
                    <pre><code class="language-java">// Get as String
String url = ConfNG.get(MyConfig.API_URL);

// Get as Integer
Integer timeout = ConfNG.getInt(MyConfig.TIMEOUT);

// Get as Boolean
Boolean enabled = ConfNG.getBoolean(MyConfig.FEATURE_ENABLED);

// Get as Long
Long count = ConfNG.getLong(MyConfig.MAX_RECORDS);</code></pre>

                    <h3 id="configuration-sources">3.4. Configuration Sources</h3>
                    <p>ConfNG supports multiple configuration sources with automatic precedence handling. Sources are checked in the following order (highest to lowest priority):</p>

                    <ol>
                        <li><strong>Environment Variables</strong> - System environment variables</li>
                        <li><strong>System Properties</strong> - Java system properties (-D flags)</li>
                        <li><strong>TestNG Parameters</strong> - Parameters from TestNG XML (Method > Test > Suite levels)</li>
                        <li><strong>Properties Files</strong> - .properties files</li>
                        <li><strong>JSON Files</strong> - .json configuration files</li>
                        <li><strong>YAML Files</strong> - .yaml/.yml files (requires custom source)</li>
                        <li><strong>TOML Files</strong> - .toml files (requires custom source)</li>
                        <li><strong>Secret Managers</strong> - AWS Secrets Manager, Azure Key Vault, HashiCorp Vault</li>
                        <li><strong>Custom Sources</strong> - Implement your own configuration source</li>
                        <li><strong>Default Values</strong> - Values defined in the enum</li>
                    </ol>

                    <p>Example of loading from a properties file:</p>
                    <pre><code class="language-properties"># config.properties
api.url=https://production.example.com
timeout=60
retry.count=5</code></pre>

                    <p>Example of loading from a JSON file:</p>
                    <pre><code class="language-json">{
  "api": {
    "url": "https://production.example.com",
    "timeout": 60
  },
  "retry": {
    "count": 5
  }
}</code></pre>

                    <h3 id="testng-integration">3.5. TestNG Integration</h3>
                    <p>ConfNG provides zero-configuration TestNG integration through a service-loaded listener. TestNG parameters are automatically captured and made available through the ConfNG API.</p>

                    <p>Example TestNG XML:</p>
                    <pre><code class="language-xml">&lt;!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd"&gt;
&lt;suite name="Test Suite" verbose="1"&gt;
    &lt;parameter name="base.url" value="https://test.example.com"/&gt;
    &lt;parameter name="browser" value="firefox"/&gt;

    &lt;test name="Smoke Tests"&gt;
        &lt;parameter name="timeout" value="45"/&gt;
        &lt;classes&gt;
            &lt;class name="com.example.SmokeTest"/&gt;
        &lt;/classes&gt;
    &lt;/test&gt;
&lt;/suite&gt;</code></pre>

                    <p>Access these parameters in your test:</p>
                    <pre><code class="language-java">public class SmokeTest {

    @Test
    public void testApplication() {
        // No @Parameters annotation needed!
        String url = ConfNG.get(AppConfig.BASE_URL);
        String browser = ConfNG.get(AppConfig.BROWSER);
        Integer timeout = ConfNG.getInt(AppConfig.TIMEOUT);

        // Use the configuration...
    }
}</code></pre>

                    <p>The TestNG listener is automatically registered via Java's ServiceLoader mechanism. No manual configuration is required!</p>

                    <h3 id="gradle-plugin-docs">3.6. Gradle Plugin</h3>
                    <p>The ConfNG Gradle Plugin (<code>org.confng</code>) automatically forwards system properties from the Gradle command line to the test JVM. This eliminates the need for manual <code>systemProperty</code> configuration in your build files.</p>

                    <h4>Installation</h4>
                    <pre><code class="language-groovy">plugins {
    id 'java'
    id 'org.confng' version '1.1.1'
}</code></pre>

                    <h4>Usage</h4>
                    <p>Once applied, any <code>-D</code> flags passed to Gradle are automatically available in your tests:</p>
                    <pre><code class="language-bash"># Run tests with custom configuration
./gradlew test -Dbrowser=firefox -Dbase.url=https://staging.example.com

# All properties are available via ConfNG.get()
String browser = ConfNG.get(AppConfig.BROWSER);  // "firefox"
String url = ConfNG.get(AppConfig.BASE_URL);     // "https://staging.example.com"</code></pre>

                    <h4>Configuration Options</h4>
                    <p>The plugin provides a <code>confng</code> extension for customization:</p>
                    <pre><code class="language-groovy">confng {
    // Enable/disable automatic property forwarding (default: true)
    forwardSystemProperties = true

    // Only forward properties matching these prefixes
    includePatterns = ['app.', 'database.', 'browser', 'env']

    // Exclude properties matching these patterns (takes precedence over includes)
    excludePatterns = ['secret.', 'password', 'credential']
}</code></pre>

                    <h4>Pattern Matching</h4>
                    <p>The plugin uses prefix matching for filtering:</p>
                    <ul>
                        <li><strong>Include patterns:</strong> If specified, only properties starting with these prefixes are forwarded</li>
                        <li><strong>Exclude patterns:</strong> Properties starting with these prefixes are never forwarded</li>
                        <li><strong>Precedence:</strong> Exclude patterns take precedence over include patterns</li>
                    </ul>

                    <pre><code class="language-groovy">confng {
    // Forward only app.* and db.* properties, but never secrets
    includePatterns = ['app.', 'db.']
    excludePatterns = ['app.secret.', 'db.password']
}

// With this config:
// -Dapp.name=MyApp        ‚Üí forwarded
// -Dapp.secret.key=xxx    ‚Üí NOT forwarded (excluded)
// -Ddb.host=localhost     ‚Üí forwarded
// -Ddb.password=secret    ‚Üí NOT forwarded (excluded)
// -Dother.prop=value      ‚Üí NOT forwarded (not in includes)</code></pre>

                    <h4>Why Use the Plugin?</h4>
                    <p>Without the plugin, you need to manually forward each property:</p>
                    <pre><code class="language-groovy">// Without plugin - manual and error-prone
test {
    systemProperty 'browser', System.getProperty('browser')
    systemProperty 'base.url', System.getProperty('base.url')
    systemProperty 'timeout', System.getProperty('timeout')
    // ... repeat for every property
}</code></pre>

                    <p>With the plugin, all properties are forwarded automatically:</p>
                    <pre><code class="language-groovy">// With plugin - zero configuration needed!
plugins {
    id 'org.confng' version '1.1.1'
}
// That's it! All -D properties are automatically available in tests</code></pre>

                    <h3 id="typed-getters">3.7. Typed Configuration Getters</h3>
                    <p>ConfNG 1.1.1 introduces additional typed getter methods for common data types:</p>

                    <pre><code class="language-java">// Long values
Long maxFileSize = ConfNG.getLong(AppConfig.MAX_FILE_SIZE);

// Double values
Double taxRate = ConfNG.getDouble(AppConfig.TAX_RATE);

// List values (comma-separated)
List&lt;String&gt; allowedOrigins = ConfNG.getList(AppConfig.ALLOWED_ORIGINS);
// Config: "http://localhost,http://example.com" -> ["http://localhost", "http://example.com"]

// List with custom delimiter
List&lt;String&gt; features = ConfNG.getList(AppConfig.FEATURES, ";");

// Duration values (human-readable formats)
Duration timeout = ConfNG.getDuration(AppConfig.SESSION_TIMEOUT);
// Supports: "30s", "5m", "2h", "1d", "500ms", "PT30S" (ISO-8601)</code></pre>

                    <h3 id="optional-required">3.8. Optional/Required Configuration</h3>
                    <p>Explicit methods for handling optional and required configuration values:</p>

                    <pre><code class="language-java">// Optional - returns Optional&lt;String&gt;, never null
Optional&lt;String&gt; apiKey = ConfNG.getOptional(AppConfig.API_KEY);
apiKey.ifPresent(key -> client.setApiKey(key));

// Required - throws ConfigurationException if missing
String databaseUrl = ConfNG.getRequired(DatabaseConfig.URL);

// With explicit fallback default
String browser = ConfNG.getOrDefault(AppConfig.BROWSER, "firefox");
Integer timeout = ConfNG.getOrDefault(AppConfig.TIMEOUT, 60);</code></pre>

                    <h3 id="validation">3.9. Configuration Validation Framework</h3>
                    <p>Annotation-based validation for configuration values:</p>

                    <pre><code class="language-java">public enum AppConfig implements ConfNGKey {
    @Required
    DATABASE_URL("database.url"),

    @NotEmpty
    API_KEY("api.key", "default-key"),

    @Range(min = 1, max = 65535)
    SERVER_PORT("server.port", "8080"),

    @Pattern(regex = "^(debug|info|warn|error)$")
    LOG_LEVEL("log.level", "info");

    // ... implementation
}

// Validate configuration
ValidationResult result = ConfNG.validate(AppConfig.values());
if (!result.isValid()) {
    for (ValidationError error : result.getErrors()) {
        System.err.println(error.getKey() + ": " + error.getMessage());
    }
}</code></pre>

                    <h3 id="source-diagnostics">3.10. Configuration Source Diagnostics</h3>
                    <p>See exactly where each configuration value comes from:</p>

                    <pre><code class="language-java">// Get source info for a single key
ConfigSourceInfo info = ConfNG.getSourceInfo(AppConfig.DATABASE_URL);

System.out.println("Key: " + info.getKey());           // "database.url"
System.out.println("Value: " + info.getValue());       // "jdbc:mysql://..." (masked if sensitive)
System.out.println("Source: " + info.getSourceName()); // "Environment", "SystemProperties", etc.
System.out.println("Found: " + info.isFound());        // true/false
System.out.println("Default: " + info.isFromDefault()); // true if using default value

// Get source info for multiple keys
Map&lt;String, ConfigSourceInfo&gt; infos = ConfNG.getAllSourceInfo(AppConfig.values());</code></pre>

                    <h3 id="prefix-retrieval">3.11. Prefix-based Configuration Retrieval</h3>
                    <p>Retrieve all configuration values with a common prefix:</p>

                    <pre><code class="language-java">// Get all values with prefix
Map&lt;String, String&gt; dbConfig = ConfNG.getByPrefix("db.");
// Returns: {"db.host": "localhost", "db.port": "5432", "db.name": "mydb"}

// Get just the key names
Set&lt;String&gt; apiKeys = ConfNG.getKeysWithPrefix("api.");
// Returns: {"api.url", "api.key", "api.version"}

// Use cases: feature flags, tenant config, environment overrides
Map&lt;String, String&gt; features = ConfNG.getByPrefix("feature.");
for (Map.Entry&lt;String, String&gt; entry : features.entrySet()) {
    String featureName = entry.getKey().substring("feature.".length());
    boolean enabled = Boolean.parseBoolean(entry.getValue());
    featureManager.setEnabled(featureName, enabled);
}</code></pre>

                    <h3 id="encryption">3.12. Encryption/Decryption</h3>
                    <p>ConfNG provides built-in support for encrypting sensitive configuration values using AES-256-GCM encryption:</p>

                    <pre><code class="language-java">// Set up encryption with a 32-byte key
byte[] key = "your-32-byte-encryption-key!!!!".getBytes();
AesEncryptionProvider provider = new AesEncryptionProvider(key);
EncryptionManager.getInstance().setDefaultProvider(provider);

// Encrypt a value
String encrypted = EncryptionManager.getInstance().encrypt("my-secret-password");
// Result: "ENC(base64-encoded-ciphertext)"

// Decrypt a value
String decrypted = provider.decrypt(encrypted);
// Result: "my-secret-password"</code></pre>

                    <p>Use the <code>@Encrypted</code> annotation to mark sensitive configuration keys:</p>
                    <pre><code class="language-java">public enum SecureConfig implements ConfNGKey {
    @Encrypted
    DATABASE_PASSWORD("db.password", ""),

    @Encrypted(provider = "custom-provider", failOnError = true)
    API_SECRET("api.secret", "");

    // ... implementation
}</code></pre>

                    <h3 id="config-reloading">3.13. Configuration Reloading</h3>
                    <p>Hot-reload configuration without restarting your application:</p>

                    <pre><code class="language-java">// Get the reload manager
ConfigReloadManager manager = ConfigReloadManager.getInstance();

// Add a change listener
manager.addChangeListener(event -> {
    System.out.println("Config changed: " + event.getChangedKeys());
    if (event.hasChanged("database.pool.size")) {
        reconfigureConnectionPool(event.getNewValue("database.pool.size"));
    }
});

// Enable auto-reload with file watching
manager.enableAutoReload();

// Or trigger manual reload
manager.triggerReload("manual-refresh");</code></pre>

                    <h3 id="metrics-logging">3.14. Metrics & Logging</h3>
                    <p>Track configuration usage and performance with built-in metrics:</p>

                    <pre><code class="language-java">// Enable metrics
ConfigMetrics metrics = ConfigMetrics.getInstance();
metrics.setEnabled(true);

// Record lookups (automatically tracked when integrated)
metrics.recordLookup("app.name", true, false);  // key, cacheHit, usedDefault

// Get metrics
long totalLookups = metrics.getTotalLookups();
long cacheHits = metrics.getCacheHits();
double hitRate = metrics.getCacheHitRate();

// Export as JSON
String json = metrics.toJson();</code></pre>

                    <p>Use <code>ConfigLogger</code> for structured logging with sensitive value masking:</p>
                    <pre><code class="language-java">ConfigLogger logger = ConfigLogger.builder()
    .logLevel(ConfigLogger.LogLevel.INFO)
    .maskSensitiveValues(true)
    .addSensitivePattern("password")
    .addSensitivePattern("secret")
    .build();

logger.logConfigAccess("db.password", "****");  // Masked automatically</code></pre>

                    <h3 id="remote-sources">3.15. Remote Configuration Sources</h3>
                    <p>Fetch configuration from remote services:</p>

                    <h4>HTTP Configuration Source</h4>
                    <pre><code class="language-java">HttpConfigSource httpSource = HttpConfigSource.builder()
    .url("https://config-server.example.com/api/config")
    .headers(Map.of("Authorization", "Bearer token"))
    .cacheTimeSeconds(300)
    .maxRetries(3)
    .build();

ConfNG.addSource(httpSource);</code></pre>

                    <h4>HashiCorp Consul</h4>
                    <pre><code class="language-java">ConsulConfigSource consulSource = ConsulConfigSource.builder()
    .host("consul.example.com")
    .port(8500)
    .prefix("myapp/config/")
    .token("consul-acl-token")
    .build();

ConfNG.addSource(consulSource);</code></pre>

                    <h4>Spring Cloud Config Server</h4>
                    <pre><code class="language-java">SpringCloudConfigSource springSource = SpringCloudConfigSource.builder()
    .baseUrl("http://config-server:8888")
    .application("myapp")
    .profile("production")
    .label("main")
    .build();

ConfNG.addSource(springSource);</code></pre>

                    <h3 id="code-generators">3.16. Code Generators</h3>
                    <p>Generate configuration enums from existing configuration files:</p>

                    <pre><code class="language-java">// Generate from properties file
String enumCode = ConfigKeyGenerator.generateFromProperties(
    "src/main/resources/application.properties",
    "com.example.config",
    "AppConfig"
);

// Generate from YAML file
String yamlEnumCode = ConfigKeyGenerator.generateFromYaml(
    "src/main/resources/application.yml",
    "com.example.config",
    "AppConfig"
);

// Generate from JSON schema
String jsonEnumCode = ConfigKeyGenerator.generateFromJsonSchema(
    "src/main/resources/config-schema.json",
    "com.example.config",
    "AppConfig"
);</code></pre>

                    <p>Generate environment-specific configuration templates:</p>
                    <pre><code class="language-java">// Generate properties template
String propsTemplate = TemplateGenerator.generatePropertiesTemplate(
    AppConfig.values(),
    "Production configuration template"
);

// Generate YAML template
String yamlTemplate = TemplateGenerator.generateYamlTemplate(
    AppConfig.values(),
    "Production configuration template"
);

// Generate JSON template
String jsonTemplate = TemplateGenerator.generateJsonTemplate(
    AppConfig.values(),
    "Production configuration template"
);</code></pre>

                    <h3 id="junit5-extension">3.17. JUnit 5 Extension</h3>
                    <p>Use ConfNG with JUnit 5 tests:</p>

                    <pre><code class="language-xml">&lt;!-- Add the JUnit 5 extension dependency --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.confng&lt;/groupId&gt;
    &lt;artifactId&gt;confng-junit5-extension&lt;/artifactId&gt;
    &lt;version&gt;1.1.1&lt;/version&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>

                    <pre><code class="language-java">import org.confng.junit5.ConfNGExtension;
import org.confng.junit5.ConfigValue;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;

@ExtendWith(ConfNGExtension.class)
public class MyJUnit5Test {

    @ConfigValue(key = "app.name")
    private String appName;

    @ConfigValue(key = "app.timeout", defaultValue = "30")
    private int timeout;

    @Test
    void testWithInjectedConfig() {
        assertNotNull(appName);
        assertTrue(timeout > 0);
    }
}</code></pre>

                    <h3 id="spring-integration">3.18. Spring Integration</h3>
                    <p>Use ConfNG as a Spring PropertySource:</p>

                    <pre><code class="language-java">import org.confng.integration.spring.ConfNGPropertySource;
import org.springframework.context.annotation.Configuration;
import org.springframework.core.env.ConfigurableEnvironment;

@Configuration
public class ConfNGSpringConfig {

    public ConfNGSpringConfig(ConfigurableEnvironment environment) {
        // Add ConfNG as a property source with high priority
        environment.getPropertySources().addFirst(
            new ConfNGPropertySource("confng")
        );
    }
}

// Now use @Value annotations as usual
@Component
public class MyService {
    @Value("${app.name}")
    private String appName;

    @Value("${database.url}")
    private String databaseUrl;
}</code></pre>

                    <h3 id="micronaut-integration">3.19. Micronaut Integration</h3>
                    <p>ConfNG integrates seamlessly with Micronaut:</p>

                    <pre><code class="language-java">import org.confng.integration.micronaut.ConfNGPropertySourceLoader;
import io.micronaut.context.env.PropertySourceLoader;

// Register via ServiceLoader (META-INF/services/io.micronaut.context.env.PropertySourceLoader)
// or programmatically:

public class Application {
    public static void main(String[] args) {
        Micronaut.build(args)
            .propertySources(new ConfNGPropertySourceLoader())
            .start();
    }
}

// Use @Value or @ConfigurationProperties as usual
@Singleton
public class MyService {
    @Value("${app.name}")
    private String appName;
}</code></pre>
                </section>

                <section id="examples">
                    <h1>4. Examples</h1>
                    <p>The <a href="https://github.com/confng/confng-playground">ConfNG Playground</a> repository contains comprehensive examples demonstrating various features and use cases:</p>

                    <h4>Basic Examples</h4>
                    <ul>
                        <li><a href="https://github.com/confng/confng-playground/tree/main/environment-auto-loading" target="_blank">Environment Auto-Loading</a> - Automatic environment detection and configuration loading</li>
                        <li><a href="https://github.com/confng/confng-playground/tree/main/properties-config" target="_blank">Properties Configuration</a> - Using .properties files for configuration</li>
                        <li><a href="https://github.com/confng/confng-playground/tree/main/json-config" target="_blank">JSON Configuration</a> - Using JSON files for configuration</li>
                    </ul>

                    <h4>Advanced Examples</h4>
                    <ul>
                        <li><a href="https://github.com/confng/confng-playground/tree/main/multi-source-config" target="_blank">Multi-Source Configuration</a> - Combining multiple configuration sources with precedence</li>
                        <li><a href="https://github.com/confng/confng-playground/tree/main/yaml-config" target="_blank">YAML Configuration</a> - Custom YAML source implementation</li>
                        <li><a href="https://github.com/confng/confng-playground/tree/main/secret-managers" target="_blank">Secret Managers</a> - Integration with AWS, Azure, and HashiCorp Vault</li>
                        <li><a href="https://github.com/confng/confng-playground/tree/main/database-config" target="_blank">Database Configuration</a> - Using a database as a configuration source</li>
                    </ul>

                    <h4>TestNG Integration Examples</h4>
                    <ul>
                        <li><a href="https://github.com/confng/confng-playground/tree/main/confng-testng" target="_blank">TestNG Integration</a> - Comprehensive TestNG patterns and best practices</li>
                        <li><a href="https://github.com/confng/confng-playground/tree/main/env-variables" target="_blank">Environment Variables</a> - Using environment variables in tests</li>
                        <li><a href="https://github.com/confng/confng-playground/tree/main/system-properties" target="_blank">System Properties</a> - Using Java system properties</li>
                    </ul>
                </section>

                <section id="javadocs">
                    <h1>5. API Documentation</h1>
                    <p>For detailed API documentation and additional resources:</p>
                    <ul>
                        <li><strong>JavaDoc:</strong> Complete API reference and documentation at <a href="https://docs.confng.org/" target="_blank">docs.confng.org</a></li>
                        <li><strong>Source Code:</strong> Browse the complete source code and JavaDoc comments in the <a href="https://github.com/confng/confng/tree/main/src" target="_blank">GitHub repository</a></li>
                        <li><strong>README:</strong> View the comprehensive <a href="https://github.com/confng/confng#readme" target="_blank">README documentation</a> on GitHub</li>
                        <li><strong>Issues & Support:</strong> Report bugs or request features on <a href="https://github.com/confng/confng/issues" target="_blank">GitHub Issues</a></li>
                    </ul>
                </section>

                <section id="github">
                    <h1>6. GitHub Repository</h1>
                    <p>ConfNG is open source and hosted on GitHub:</p>
                    <ul>
                        <li><strong>Main Repository:</strong> <a href="https://github.com/confng/confng" target="_blank">https://github.com/confng/confng</a></li>
                        <li><strong>Playground Examples:</strong> <a href="https://github.com/confng/confng-playground" target="_blank">https://github.com/confng/confng-playground</a></li>
                    </ul>
                    <p>Contributions, bug reports, and feature requests are welcome!</p>
                </section>
            </article>
        </div>
    </main>
    <footer>
        <p>&copy; 2024-2026 ConfNG Team | <a href="mailto:team@confng.org">team@confng.org</a></p>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-xml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-properties.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-groovy.min.js"></script>
    <script src="assets/js/docs.js"></script>
</body>
</html>
